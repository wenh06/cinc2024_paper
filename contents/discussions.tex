\section{Discussion and Conclusions}
\label{sec:discu}

% almost finished.

The results presented in Section \ref{sec:results} indicate that our proposed method is relatively effective in digitizing and classifying ECG images concurrently, achieving acceptable SNR and F1 scores. Our framework (as illustrated in Fig. \ref{fig:multi-stage-framework}) offers a lightweight and efficient solution to this challenge. The average inference time of the entire pipeline is approximately 2 seconds per ECG image, measured on a single NVIDIA RTX 3090 GPU. This capability of processing ECG images in real time is crucial for clinical applications.

However, there are observable gaps between the SNR metric on the public training data and the hidden data. A possible reason for this discrepancy is the difference in data distribution (format). The training data generated using ECG-Image-Kit \cite{Shivashankara_2024_ECG} all follow the standard 3-by-4 format, namely 3 rows and 4 columns of the 12-lead ECG waveforms (each lead having a 2.5s length), with an additional row for a full-length lead II waveform. The post-processing step after segmentation is designed to handle this specific format. However, the hidden data may have different formats, as inferred from the released samples. For example, there could be additional full-length waveforms in the images. This discrepancy may lead to a performance drop on the hidden data. To address this issue, we can consider designing a more flexible post-processing step that can handle various ECG image formats and make use of the detected lead names by the object detection model to determine the format of the ECG image, which is not used in the current framework.

Our method can be further improved in several aspects. First, the object detection module can be enhanced by incorporating a more effective backbone network or a more advanced architecture, including the latest YOLO series models. An end-to-end digitization model from the segmented ECG waveform masks or even directly from the ROI can be developed to simplify the pipeline, replacing the current rule-based conversion from pixel coordinates to digitized values. Finally, handling rotated ECG images can be considered to improve the robustness of the framework, which is beyond the scope of the current work.
